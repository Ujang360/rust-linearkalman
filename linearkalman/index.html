<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `linearkalman` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, linearkalman">

    <title>linearkalman - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'linearkalman', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>linearkalman</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/linearkalman/lib.rs.html#1-279' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>This crate implements a standard linear Kalman filter and smoothing for
vectors of arbitrary dimension. Implementation method relies on <code>rulinalg</code>
library for linear algebra computations. Most inputs and outputs rely
therefore on (derived) constructs from
<a href="https://athemathmo.github.io/rulinalg/doc/rulinalg/index.html">rulinalg</a>
library, in particular
<a href="https://athemathmo.github.io/rulinalg/doc/rulinalg/vector/struct.Vector.html"><code>Vector&lt;f64&gt;</code></a>
and
<a href="https://athemathmo.github.io/rulinalg/doc/rulinalg/matrix/struct.Matrix.html"><code>Matrix&lt;f64&gt;</code></a>
structs.</p>

<p>Currently, implementation method assumes that Kalman filter is time-invariant
and is based on the equations detailed below. Notations in the below equations
correspond to annotations in the source code.</p>

<p>Measurement and state equations:</p>

<ul>
<li><code>z_{t} = H_{t} x_{t} + v_{t}</code> where <code>v_{t} ~ N(0, R_{t})</code></li>
<li><code>x_{t} = F_{t} x_{t-1} + B_{t} u_{t} + w_{t}</code> where <code>w_{t} ~ N(0, Q_{t})</code></li>
</ul>

<p>Kalman filter equations:</p>

<ul>
<li><code>P_{t|t-1} = F_{t} P_{t-1|t-1} F&#39;_{t} + Q_{t}</code></li>
<li><code>x_{t|t-1} = F_{t} x_{t-1|t-1} + B_{t} u_{t}</code></li>
<li><code>K_{t} = P_{t|t-1} H&#39;_{t} * (H_{t} P_{t|t-1} H&#39;_{t} + R_{t})^{-1}</code></li>
<li><code>P_{t|t} = (Id - K_{t} H_{t}) * P_{t|t-1}</code></li>
<li><code>x_{t|t} = x_{t|t-1} + K_{t} * (z_{t} - H_{t} x_{t|t-1})</code></li>
</ul>

<p>Kalman smoothing equations:</p>

<ul>
<li><code>J_{t} = P_{t|t} F&#39;_{t} P_{t+1|t}^{-1}</code></li>
<li><code>x_{t|T} = x_{t|t} + J_{t} * (x_{t+1|T} - x_{t+1|t})</code></li>
<li><code>P_{t|T} = P_{t|t} + J_{t} * (P_{t+1|T} - P_{t+1|t}) * J&#39;_{t}</code></li>
</ul>

<p>Nomenclature:</p>

<ul>
<li><code>(x_{t+1|t}, P_{t+1|t})</code> will be referred to as predicted state variables.</li>
<li><code>(x_{t|t}, P_{t|t})</code> will be referred to as filtered state variables.</li>
<li><code>(x_{t|T}, P_{t|T})</code> will be referred to as smoothed state variables.</li>
</ul>

<p>For now, it is assumed here that <code>B_{t}</code> matrix is null and that <code>Q_{t}, R_{t}, H_{t}</code> and <code>F_{t}</code> matrices are constant over time.</p>

<p>Besides real data, algorithm takes as inputs <code>H</code>, <code>R</code>, <code>F</code> and <code>Q</code> matrices
as well as initial guesses for state mean <code>x0 = x_{1|0}</code>and covariance
matrix <code>P0 = P_{1|0}</code>. Covariance matrix <code>P0</code> indicates the uncertainty
related to the guess of <code>x0</code>.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.KalmanFilter.html'
                                  title='linearkalman::KalmanFilter'>KalmanFilter</a></td>
                           <td class='docblock-short'>
                                <p>Container object with values for matrices used in the Kalman filtering
procedure as well as initial values for state variables.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.KalmanState.html'
                                  title='linearkalman::KalmanState'>KalmanState</a></td>
                           <td class='docblock-short'>
                                <p>Container with the value of state variable and its covariance. This struct
is used throughout all parts of Kalman procedure and may refer to predicted,
filtered and smoothed variables depending on the context.</p>
                           </td>
                       </tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.filter_step.html'
                                  title='linearkalman::filter_step'>filter_step</a></td>
                           <td class='docblock-short'>
                                <p>Returns a tuple containing updated and predicted estimates (in that order)
of the state variable and its covariance. This function might be useful for
cases where data is incoming and being updated in real-time so that Kalman
filtering is run incrementally. Note that given some initial values for <code>x</code>
and <code>P</code>, <code>filter_step</code> makes a prediction and then runs the update step to
correct the prediction based on the observed data.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.predict_step.html'
                                  title='linearkalman::predict_step'>predict_step</a></td>
                           <td class='docblock-short'>
                                <p>Returns a predicted state variable mean and covariance. If prediction for
time <code>t</code> is desired, then <code>KalmanState</code> object with initial conditions
contains state mean and covariance at time <code>t-1</code> given information up to
time <code>t-1</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.update_step.html'
                                  title='linearkalman::update_step'>update_step</a></td>
                           <td class='docblock-short'>
                                <p>Returns an updated state variable mean and covariance given predicted and
observed data. Typically, update step will be called after prediction step,
data of which will be consequently used as input in updating.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "linearkalman";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>